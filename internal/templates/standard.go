package templates

func init() {
	Register(&Template{
		Name:        "standard",
		Description: "Standard starter with file-based routing, layouts, and example pages",
		files: []templateFile{
			// go.mod
			{
				Path: "go.mod",
				Content: `module {{.ProjectName}}

go 1.22

require github.com/vango-go/vango v0.1.0
`,
			},

			// vango.json
			{
				Path: "vango.json",
				Content: `{
  "module": "{{.ProjectName}}",
  "routes": {
    "dir": "app/routes",
    "output": "app/routes/routes_gen.go",
    "package": "routes"
  },
  "static": {
    "dir": "public",
    "prefix": "/"
  },
  "build": {
    "output": "dist",
    "fingerprint": true
  },
  "devtools": {
    "enabled": true
  }
}
`,
			},

			// main.go
			{
				Path: "main.go",
				Content: `package main

import (
	"log"
	"net/http"
	"os"
	"time"

	"github.com/vango-go/vango"
	"{{.ProjectName}}/app/routes"
)

func main() {
	app := vango.New(vango.Config{
		Session: vango.SessionConfig{
			ResumeWindow: 30 * time.Second,
		},
		Static: vango.StaticConfig{
			Dir:    "public",
			Prefix: "/",
		},
		DevMode: os.Getenv("ENVIRONMENT") != "production",
	})

	routes.Register(app)

	mux := http.NewServeMux()
	mux.Handle("/", app)

	log.Println("Server starting on http://localhost:8080")
	log.Fatal(http.ListenAndServe(":8080", mux))
}
`,
			},

			// app/routes/routes_gen.go
			{
				Path: "app/routes/routes_gen.go",
				Content: `// Code generated by vango. DO NOT EDIT.

package routes

import (
	"github.com/vango-go/vango"
	"{{.ProjectName}}/app/routes/api"
)

func Register(app *vango.App) {
	app.Page("/", IndexPage, Layout)
	app.Page("/about", AboutPage, Layout)

	app.API("GET", "/api/health", api.HealthGET)
}
`,
			},

			// app/routes/layout.go
			{
				Path: "app/routes/layout.go",
				Content: `package routes

import (
	"github.com/vango-go/vango"
	. "github.com/vango-go/vango/el"

	"{{.ProjectName}}/app/components/shared"
)

func Layout(ctx vango.Ctx, children vango.Slot) *vango.VNode {
	return Html(Lang("en"),
		Head(
			Meta(Charset("utf-8")),
			Meta(Name("viewport"), Content("width=device-width, initial-scale=1")),
			Title(Text("{{.ProjectName}}")),
			LinkEl(Rel("stylesheet"), Href(ctx.Asset("styles.css"))),
		),
		Body(
			shared.Navbar(ctx),
			Main(Class("container"), children),
			shared.AppFooter(),
		),
	)
}
`,
			},

			// app/routes/index.go
			{
				Path: "app/routes/index.go",
				Content: `package routes

import (
	"github.com/vango-go/vango"
	. "github.com/vango-go/vango/el"
)

func IndexPage(ctx vango.Ctx) *vango.VNode {
	return Div(Class("page"),
		H1(Text("Welcome to Vango")),
		P(Text("Build modern web apps with Go.")),
		P(
			Text("Try the "),
			Link("/about", Text("About page")),
			Text("."),
		),
	)
}
`,
			},

			// app/routes/about.go
			{
				Path: "app/routes/about.go",
				Content: `package routes

import (
	"github.com/vango-go/vango"
	. "github.com/vango-go/vango/el"
)

func AboutPage(ctx vango.Ctx) *vango.VNode {
	return Div(Class("page"),
		H1(Text("About")),
		P(Text("This is a Vango app scaffolded by vango create.")),
	)
}
`,
			},

			// app/routes/api/health.go
			{
				Path: "app/routes/api/health.go",
				Content: `package api

import "github.com/vango-go/vango"

type HealthResponse struct {
	Status  string ` + "`json:\"status\"`" + `
	Version string ` + "`json:\"version\"`" + `
}

func HealthGET(ctx vango.Ctx) (*HealthResponse, error) {
	return &HealthResponse{
		Status:  "ok",
		Version: "0.1.0",
	}, nil
}
`,
			},

			// app/components/shared/navbar.go
			{
				Path: "app/components/shared/navbar.go",
				Content: `package shared

import (
	"github.com/vango-go/vango"
	. "github.com/vango-go/vango/el"
)

func Navbar(ctx vango.Ctx) *vango.VNode {
	return Header(Class("nav"),
		Div(Class("container nav-inner"),
			Div(Class("brand"), Link("/", Text("{{.ProjectName}}"))),
			Nav(Class("nav-links"),
				NavLink(ctx, "/", Text("Home")),
				NavLink(ctx, "/about", Text("About")),
			),
		),
	)
}
`,
			},

			// app/components/shared/footer.go
			{
				Path: "app/components/shared/footer.go",
				Content: `package shared

import (
	"github.com/vango-go/vango"
	. "github.com/vango-go/vango/el"
)

func AppFooter() *vango.VNode {
	return Footer(Class("footer"),
		Div(Class("container"),
			Text("Â© 2026 {{.ProjectName}}"),
		),
	)
}
`,
			},

			// public/styles.css
			{
				Path: "public/styles.css",
				Content: `:root {
  --bg: #ffffff;
  --fg: #111827;
  --muted: #6b7280;
  --border: #e5e7eb;
  --max: 72rem;
}

* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  color: var(--fg);
  background: var(--bg);
  line-height: 1.5;
}

.container {
  max-width: var(--max);
  margin: 0 auto;
  padding: 1.25rem;
}

.nav {
  border-bottom: 1px solid var(--border);
}

.nav-inner {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1rem;
}

.brand a {
  font-weight: 700;
  text-decoration: none;
  color: var(--fg);
}

.nav-links a {
  text-decoration: none;
  color: var(--muted);
  margin-left: 0.75rem;
}

.nav-links a.active {
  color: var(--fg);
  font-weight: 600;
}

.page h1 { margin: 0 0 0.75rem; }
.page p { margin: 0.5rem 0; color: var(--muted); }

.footer {
  border-top: 1px solid var(--border);
  margin-top: 2rem;
  color: var(--muted);
  font-size: 0.875rem;
}
`,
			},

			// public/favicon.ico - minimal valid ICO file (16x16 transparent)
			{
				Path:   "public/favicon.ico",
				Binary: faviconICO,
			},

			// .gitignore
			{
				Path: ".gitignore",
				Content: `# Build artifacts
dist/
*.exe
*.exe~
*.dll
*.so
*.dylib

# Test binary
*.test

# Output of the go coverage tool
*.out

# Go workspace files
go.work
go.work.sum

# IDE and editor
.vscode/
.idea/
*.swp
*.swo
*~

# OS files
.DS_Store
Thumbs.db

# Environment
.env
.env.local
.env.*.local

# Tailwind output (regenerated)
public/styles.css.map
`,
			},

			// Placeholder directories with .gitkeep
			{Path: "app/components/ui/.gitkeep", Content: ""},
			{Path: "app/middleware/.gitkeep", Content: ""},
			{Path: "app/store/.gitkeep", Content: ""},
			{Path: "db/.gitkeep", Content: ""},
		},
	})
}

// faviconICO is a minimal valid ICO file (16x16 single color icon).
// This is a simple blue "V" icon representing Vango.
var faviconICO = []byte{
	// ICO header
	0x00, 0x00, // Reserved
	0x01, 0x00, // Type: 1 = ICO
	0x01, 0x00, // Number of images: 1

	// Image directory entry (16 bytes)
	0x10,       // Width: 16
	0x10,       // Height: 16
	0x00,       // Color palette: 0 = no palette
	0x00,       // Reserved
	0x01, 0x00, // Color planes: 1
	0x20, 0x00, // Bits per pixel: 32
	0x68, 0x04, 0x00, 0x00, // Image size: 1128 bytes
	0x16, 0x00, 0x00, 0x00, // Offset: 22 (header + directory)

	// BMP header (40 bytes)
	0x28, 0x00, 0x00, 0x00, // Header size: 40
	0x10, 0x00, 0x00, 0x00, // Width: 16
	0x20, 0x00, 0x00, 0x00, // Height: 32 (double for ICO)
	0x01, 0x00, // Planes: 1
	0x20, 0x00, // Bits per pixel: 32
	0x00, 0x00, 0x00, 0x00, // Compression: none
	0x00, 0x04, 0x00, 0x00, // Image size
	0x00, 0x00, 0x00, 0x00, // X pixels per meter
	0x00, 0x00, 0x00, 0x00, // Y pixels per meter
	0x00, 0x00, 0x00, 0x00, // Colors used
	0x00, 0x00, 0x00, 0x00, // Important colors

	// Pixel data (16x16 BGRA, bottom-up)
	// Row 1 (bottom)
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	// Row 2
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	// Row 3
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xB0, 0x5C, 0x1C, 0xFF, 0xB0, 0x5C, 0x1C, 0xFF,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	// Row 4
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xB0, 0x5C, 0x1C, 0xFF, 0xB0, 0x5C, 0x1C, 0xFF,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	// Row 5
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0xB0, 0x5C, 0x1C, 0xFF, 0xB0, 0x5C, 0x1C, 0xFF, 0xB0, 0x5C, 0x1C, 0xFF,
	0xB0, 0x5C, 0x1C, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	// Row 6
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0xB0, 0x5C, 0x1C, 0xFF, 0xB0, 0x5C, 0x1C, 0xFF, 0xB0, 0x5C, 0x1C, 0xFF,
	0xB0, 0x5C, 0x1C, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	// Row 7
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0xB0, 0x5C, 0x1C, 0xFF, 0xB0, 0x5C, 0x1C, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0xB0, 0x5C, 0x1C, 0xFF, 0xB0, 0x5C, 0x1C, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	// Row 8
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0xB0, 0x5C, 0x1C, 0xFF, 0xB0, 0x5C, 0x1C, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0xB0, 0x5C, 0x1C, 0xFF, 0xB0, 0x5C, 0x1C, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	// Row 9
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xB0, 0x5C, 0x1C, 0xFF,
	0xB0, 0x5C, 0x1C, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0xB0, 0x5C, 0x1C, 0xFF, 0xB0, 0x5C, 0x1C, 0xFF, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	// Row 10
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xB0, 0x5C, 0x1C, 0xFF,
	0xB0, 0x5C, 0x1C, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0xB0, 0x5C, 0x1C, 0xFF, 0xB0, 0x5C, 0x1C, 0xFF, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	// Row 11
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xB0, 0x5C, 0x1C, 0xFF, 0xB0, 0x5C, 0x1C, 0xFF,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xB0, 0x5C, 0x1C, 0xFF, 0xB0, 0x5C, 0x1C, 0xFF,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	// Row 12
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xB0, 0x5C, 0x1C, 0xFF, 0xB0, 0x5C, 0x1C, 0xFF,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xB0, 0x5C, 0x1C, 0xFF, 0xB0, 0x5C, 0x1C, 0xFF,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	// Row 13
	0x00, 0x00, 0x00, 0x00, 0xB0, 0x5C, 0x1C, 0xFF, 0xB0, 0x5C, 0x1C, 0xFF, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xB0, 0x5C, 0x1C, 0xFF,
	0xB0, 0x5C, 0x1C, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	// Row 14
	0x00, 0x00, 0x00, 0x00, 0xB0, 0x5C, 0x1C, 0xFF, 0xB0, 0x5C, 0x1C, 0xFF, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xB0, 0x5C, 0x1C, 0xFF,
	0xB0, 0x5C, 0x1C, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	// Row 15
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	// Row 16 (top)
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,

	// AND mask (16x16 bits = 32 bytes, all 0x00 means all opaque pixels)
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
}
